{"version":3,"sources":["../lib/index.js"],"names":["serverStart","serverStop","port","server","sources","serverConfig","app","getServerPort","start","console","log","yellow","bgGreen","white","close"],"mappings":";;;;;QAegBA,W,GAAAA,W;QAcAC,U,GAAAA,U;;AA7BhB;;AACA;;;;AACA;;;;AAEA,MAAM,EAAEC,IAAF,qBAAN;AACA,IAAIC,SAAS,IAAb;;AAEA;;;;;;;;AAQO,SAASH,WAAT,CAAqBI,OAArB,EAA8BC,eAAe,EAA7C,EAAiD;AACtD,QAAMC,MAAM,aAAQF,OAAR,EAAiBC,YAAjB,CAAZ;AACA,QAAMH,OAAOK,cAAcF,YAAd,CAAb;AACAF,WAASG,IAAIE,KAAJ,CAAUN,IAAV,EAAgB,MAAM;AAC7BO,YAAQC,GAAR,CAAa,oBAAmBR,IAAK,EAAzB,CAA2BS,MAAvC;AACAF,YAAQC,GAAR,CAAa,2BAAD,CAA4BC,MAAxC;AACAF,YAAQC,GAAR,CAAY,eAAeE,OAAf,CAAuBC,KAAnC;AACD,GAJQ,CAAT;AAKA,SAAOV,MAAP;AACD;;AAED;;;AAGO,SAASF,UAAT,GAAsB;AAC3B,MAAIE,MAAJ,EAAY;AACVA,WAAOW,KAAP;AACD;AACF;;AAED,SAASP,aAAT,CAAuBF,YAAvB,EAAqC;AACnC,SAAOA,aAAaH,IAAb,GAAoBG,aAAaH,IAAjC,GAAwCA,IAA/C;AACD","file":"index.js","sourcesContent":["import 'colors';\nimport config from './config';\nimport { App } from './app';\n\nconst { port } = config;\nlet server = null;\n\n/**\n * Method to start server.\n *\n * @param sources\n * @param {Object} serverConfig\n * @param serverConfig.controlApiUrl    ['/api/v1']\n * @param serverConfig.port             [8080]\n */\nexport function serverStart(sources, serverConfig = {}) {\n  const app = new App(sources, serverConfig);\n  const port = getServerPort(serverConfig);\n  server = app.start(port, () => {\n    console.log(`* Server port    ${port}`.yellow);\n    console.log(`*************************`.yellow);\n    console.log('Server START'.bgGreen.white);\n  });\n  return server;\n}\n\n/**\n * Method to stop server.\n */\nexport function serverStop() {\n  if (server) {\n    server.close();\n  }\n}\n\nfunction getServerPort(serverConfig) {\n  return serverConfig.port ? serverConfig.port : port;\n}\n"]}