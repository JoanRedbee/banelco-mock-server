'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.serverStart = serverStart;
exports.serverStop = serverStop;

require('colors');

var _config = require('./config');

var _config2 = _interopRequireDefault(_config);

var _app = require('./app');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const { port } = _config2.default;
let server = null;

/**
 * Method to start server.
 *
 * @param sources
 * @param {Object} serverConfig
 * @param serverConfig.controlApiUrl    ['/api/v1']
 * @param serverConfig.port             [8080]
 */
function serverStart(sources, serverConfig = {}) {
  const app = new _app.App(sources, serverConfig);
  const port = getServerPort(serverConfig);
  server = app.start(port, () => {
    console.log(`* Server port    ${port}`.yellow);
    console.log(`*************************`.yellow);
    console.log('Server START'.bgGreen.white);
  });
  return server;
}

/**
 * Method to stop server.
 */
function serverStop() {
  if (server) {
    server.close();
  }
}

function getServerPort(serverConfig) {
  return serverConfig.port ? serverConfig.port : port;
}
//# sourceMappingURL=index.js.map